'use strict';void 0===("undefined"===typeof window?this:window)._obj&&(("undefined"===typeof window?this:window)._obj={});_obj.Point=function(){return function(a,b){this.x=a;this.y=b}}();_obj.Rect=function(){function a(a,c,d,e){this.left=a;this.top=c;this.right=d;this.bottom=e}a.fromRect=function(b){return new a(b.left,b.top,b.right,b.bottom)};a.scaledRect=function(b,c){return new a(b.left*c,b.top*c,b.right*c,b.bottom*c)};a.fromPts=function(b){for(var c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=Number.MAX_VALUE,f=Number.MIN_VALUE,g=0,k=b.length;g<k;g++){var h=b[g];h.x<c&&(c=h.x);h.x>d&&(d=h.x);h.y<e&&(e=h.y);h.y>f&&(f=h.y)}return new a(c,e,d,f)};a.intersection=function(b,c){return b.intersectRect(c)?new a(b.left>c.left?b.left:c.left,b.top>c.top?b.top:c.top,b.right<c.right?b.right:c.right,b.bottom<c.bottom?b.bottom:c.bottom):null};a.prototype={get center(){return new _obj.Point(this.left+this.width/2,this.top+this.height/2)},get width(){return this.right-this.left},get height(){return this.bottom-this.top},get centerX(){return this.left+this.width/2},get centerY(){return this.top+this.height/2},offsetBy:function(a,c){this.left+=a;this.right+=a;this.top+=c;this.bottom+=c},offsetTo:function(a,c){var d=a-this.left,e=c-this.top;this.left=a;this.top=c;this.right+=d;this.bottom+=e},intersect:function(a,c,d,e){return this.left<d&&a<this.right&&this.top<e&&c<this.bottom?(this.left<a&&(this.left=a),this.top<c&&(this.top=c),this.right>d&&(this.right=d),this.bottom>e&&(this.bottom=e),!0):!1},intersectRect:function(a){return this.intersect(a.left,a.top,a.right,a.bottom)},combine:function(a,c,d,e){this.left>a&&(this.left=a);this.top>c&&(this.top=c);this.right<d&&(this.right=d);this.bottom<e&&(this.bottom=e)},combineRect:function(a){this.combine(a.left,a.top,a.right,a.bottom)},includeRect:function(a){return this.left<a.left&&this.top<a.top&&this.right>a.right&&this.bottom>a.bottom},hitTest:function(a){return a.x>=this.left&&a.x<this.right&&a.y>=this.top&&a.y<this.bottom},expand:function(a){this.left-=a;this.right+=a;this.top-=a;this.bottom+=a;return this}};return a}();_obj.util={isChrome:function(){return-1<navigator.userAgent.indexOf("Chrome")&&0>navigator.userAgent.indexOf("Edge")},isSafari:function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},isIE:function(){return"Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&null!=/Trident/.exec(navigator.userAgent)},isFirefox:function(){return-1<navigator.userAgent.indexOf("Firefox")},getIEVersion:function(){var a=-1,b=navigator.userAgent.match(/Trident\/(\d.\d)/i);null!=b?"7.0"==b[1]?a=11:"6.0"==b[1]?a=10:"5.0"==b[1]?a=9:"4.0"==b[1]&&(a=8):"Microsoft Internet Explorer"==navigator.appName&&(a=7);return a},isLegacyIE:function(){return window.attachEvent&&!window.addEventListener},isMobile:{_AndroidCheckCache:null,_BlackBerryCheckCache:null,_iOSCheckCache:null,_OperaCheckCache:null,_WindowsCheckCache:null,Android:function(){null===this._AndroidCheckCache&&(this._AndroidCheckCache=navigator.userAgent.match(/Android/i));return this._AndroidCheckCache},BlackBerry:function(){null===this._BlackBerryCheckCache&&(this._BlackBerryCheckCache=navigator.userAgent.match(/BlackBerry/i));return this._BlackBerryCheckCache},iOS:function(){null===this._iOSCheckCache&&(this._iOSCheckCache=navigator.userAgent.match(/iPhone|iPad|iPod/i));return this._iOSCheckCache},Opera:function(){null===this._OperaCheckCache&&(this._OperaCheckCache=navigator.userAgent.match(/Opera Mini/i));return this._OperaCheckCache},Windows:function(){null===this._WindowsCheckCache&&(this._WindowsCheckCache=navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i));return this._WindowsCheckCache},any:function(){return _obj.util.isMobile.Android()||_obj.util.isMobile.BlackBerry()||_obj.util.isMobile.iOS()||_obj.util.isMobile.Opera()||_obj.util.isMobile.Windows()}},append:function(a,b){Array.prototype.push.apply(a,b)},hitTest:function(a,b){return b.x>=a.left&&b.x<a.right&&b.y>=a.top&&b.y<a.bottom},midPoint:function(a,b){return new _obj.Point(a.x+(b.x-a.x)/2,a.y+(b.y-a.y)/2)},distance:function(a,b){var c=0,d=0,c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},arc:function(a,b,c){var d=this.midPoint(b,c),e=this.distance(d,b);b=Math.atan2(b.y-d.y,b.x-d.x);c=Math.atan2(c.y-d.y,c.x-d.x);a.arc(d.x,d.y,e,b,c)},wrappedText:function(a,b,c){function d(a,b,c){var d=[],e=a.measureText(b),e=e.width;if(e<c)d.push(b);else{for(var f="",g=0,k=b.length;g<k;g++){var p=f+b.charAt(g),e=a.measureText(p),e=e.width;e>=c&&0<g?(d.push(f),f=b.charAt(g)):f=p}d.push(f)}return d}function e(a,b,c){b=b.split(" ");for(var e="",f=[],g=0,k=b.length;g<k;g++){var n=e+(0==g?"":" ")+b[g];a.measureText(n).width>=c&&0<g?(_obj.util.append(f,d(a,e,c)),e=b[g]):e=n}_obj.util.append(f,d(a,e,c));return f}b=b.split("\n");for(var f=[],g=0,k=b.length;g<k;g++)f=f.concat(e(a,b[g],c));return f},hexColorToRgba:function(a,b){return"rgba("+a.match(/#([\da-f]{2})([\da-f]{2})([\da-f]{2})/i).slice(1).map(function(a){return parseInt(a,16)}).concat(b)+")"},colorToRgba:function(a,b){return"rgba("+(a>>16&255)+", "+(a>>8&255)+", "+(a&255)+", "+b+")"},inherit:function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]},isString:function(a){return null!==a&&void 0!==a&&a.constructor===String},isArray:function(a){return Array.isArray(a)},isAssigned:function(a){if(void 0===a||null===a||this.isString(a)&&1>a.trim().length)return!1;if(this.isArray(a)){if(1>a.length)return!1;for(var b=0,c=a.length;b<c;b++)if(!this.isAssigned(a[b]))return!1}return!0},isEmpty:function(a){return!this.isAssigned(a)},isIn:function(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1},ui:{requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},graphics:{PIXEL_RATIO:function(){try{var a=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)}catch(b){return console.error(b),1}}(),createHiPPICanvas:function(a,b,c){c||(c=this.PIXEL_RATIO);var d=document.createElement("canvas");d.width=a*c;d.height=b*c;d.style.width=a+"px";d.style.height=b+"px";d.getContext("2d").setTransform(c,0,0,c,0,0);return d},drawCircle:function(a,b){var c=b.left,d=b.top,e=b.width,f=b.height;a.save();a.translate(c+e/2,d+f/2);a.scale(1,f/e);a.arc(0,0,e/2,0,2*Math.PI,!1);a.restore()},radianToDegree:function(a){return 180*a/Math.PI},degreeToRadian:function(a){return a*Math.PI/180},calculateScaleForFit:function(a,b,c,d){return c/a>d/b?d/b:c/a},calculateBoxTransformForInnerPts:function(a,b,c){for(var d=[],e=b.width/a.width,f=b.height/a.height,g=0,k=c.length;g<k;g++){var h=c[g],h=new _obj.Point(b.left+(h.x-a.left)*e,b.top+(h.y-a.top)*f);d.push(h)}return d}},collision:{isPointInPolygon:function(a,b){for(var c=a.x,d=a.y,e=!1,f=0,g=b.length-1;f<b.length;g=f++){var k=b[f].x,h=b[f].y,l=b[g].x,g=b[g].y;h>d!=g>d&&c<(l-k)*(d-h)/(g-h)+k&&(e=!e)}return e},calcNearestPointOnLine:function(a,b,c){var d=(b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y);if(0==d)return!1;c=((c.x-a.x)*(b.x-a.x)+(c.y-a.y)*(b.y-a.y))/d;return{x:a.x+c*(b.x-a.x),y:a.y+c*(b.y-a.y)}},calcDistancePointToLine:function(a,b,c){var d=(b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y);return 0==d?!1:Math.abs(((a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y))/d)*Math.sqrt(d)},calcIsInsideLineSegment:function(a,b,c){var d=(b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y);if(0==d)return!1;a=((c.x-a.x)*(b.x-a.x)+(c.y-a.y)*(b.y-a.y))/d;return 0<=a&&1>=a},calcIsInsideThickLineSegment:function(a,b,c,d){var e=(b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y);if(0==e)return!1;var f=((c.x-a.x)*(b.x-a.x)+(c.y-a.y)*(b.y-a.y))/e;return 0>f?Math.sqrt((a.x-c.x)*(a.x-c.x)+(a.y-c.y)*(a.y-c.y))<=d:0<=f&&1>=f?Math.abs(((a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y))/e)*Math.sqrt(e)<=d:Math.sqrt((b.x-c.x)*(b.x-c.x)+(b.y-c.y)*(b.y-c.y))<=d}}};