!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=7)}([function(t,e,o){"use strict";var n,i;o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i})),function(t){t.RIGHT="RIGHT",t.WRONG="WRONG"}(n||(n={})),function(t){t.GUIDE="GUIDE",t.RETRY="RETRY"}(i||(i={}))},function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r}));var n=function(t,e,o,n){var i=o-t,r=n-e;return Math.sqrt(i*i+r*r)},i=function(t,e,o,n){var i=t-o,r=e-n;return Math.atan2(r,i)},r=function(t,e){var o=e.getBoundingClientRect();return o.top<=t.top&&t.top<=o.bottom&&o.top<=t.bottom&&t.bottom<=o.bottom&&o.left<=t.left&&t.left<=o.right&&o.left<=t.right&&t.right<=o.right}},function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));!function(){function t(t){void 0===t&&(t="Hello, @nonoll/webpack-typescript-boilerplate"),this.el=document.createElement("div"),this.innerHTML(t)}Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!1,configurable:!0}),t.prototype.innerHTML=function(t){this.el.innerHTML=t}}();var n=function(){function t(t){t instanceof jQuery?this.audio=t.get(0):this.audio="string"==typeof t?$(t).get(0):t}return t.prototype.play=function(){return this.audio.play(),this},t.prototype.pause=function(){return this.audio.pause(),this},t.prototype.stop=function(){return this.pause(),this.seek(0),this},t.prototype.seek=function(t){return this.audio.currentTime=t,this},t.prototype.volume=function(t){return this.audio.volume=t,this},t}()},function(t,e,o){},function(t,e,o){},,,function(t,e,o){"use strict";o.r(e),o.d(e,"DRAGDROP_03",(function(){return a}));o(3),o(4),o(14);var n=o(2),i=o(0),r=o(1),s=function(){return(s=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=function(){function t(t){this.selectorComponent='[data-component="DRAGDROP_03"]',this.draggableActive="is--actived",this.draggableClone="is--cloned",this.selectorGuide=".button-guide",this.selectorRetry=".button-retry",this.options={},this.maxDoneCount=0,this.doneCount=0,this.$elMatched=[],this.dragStartPoint={x:0,y:0},this.zoom=1;this.options=$.extend(!0,s({},{maxSize:4,draggable:".draggable__item",draggableOptions:{containment:".is--containment",cursor:"move",revert:"invalid",zIndex:100},sortableOptions:{items:".draggable__item",containment:".is--containment",connectWith:".clone__container, .draggable__container",cursor:"move",revert:!1,zIndex:100,scroll:!1,placeholder:"sortable-placeholder"},dropAllowSize:4,droppable:".droppable__item",cloneContainer:".clone__container",onStatus:function(){},onProgress:function(){},onDone:function(){}}),t),this.$elComponent=$(this.selectorComponent),this.$elDraggables=this.$elComponent.find(this.options.draggable),this.$elDroppables=this.$elComponent.find(this.options.droppable),this.$elCloneContainers=this.$elComponent.find(this.options.cloneContainer),this.$elGuide=this.$elComponent.find(this.selectorGuide),this.$elRetry=this.$elComponent.find(this.selectorRetry),this.doneCount=0,this.maxDoneCount=12,this.audioPlayerRight=new n.a(this.$elComponent.find('[data-media="answer-right"]')),this.audioPlayerWrong=new n.a(this.$elComponent.find('[data-media="answer-wrong"]')),this.attach(),this.checkDoneCase()}return t.prototype.attach=function(){var t=this;return this.setSortable(),this.$elGuide.on("click",(function(){t.options.onStatus(i.b.GUIDE),$("body").css({cursor:""}),t.answerGuide()})),this.$elRetry.on("click",(function(){"function"==typeof t.options.onStatus&&t.options.onStatus(i.b.RETRY),$("body").css({cursor:""}),t.reset()})),this},t.prototype.setSortable=function(){this.onSortableStart=this.onSortableStart.bind(this),this.onSortableSort=this.onSortableSort.bind(this),this.onSortableStop=this.onSortableStop.bind(this),this.onSortableDeactivate=this.onSortableDeactivate.bind(this),this.onSortableRecevie=this.onSortableRecevie.bind(this),$.each($(".draggable__container").children(),(function(t,e){var o=$(e);o.attr("data-style")?o.attr("style",o.attr("data-style")):o.attr("data-style",o.attr("style"))})),$(".draggable__container").sortable(s(s({},this.options.sortableOptions),{start:this.onSortableStart,sort:this.onSortableSort,stop:this.onSortableStop,deactivate:this.onSortableDeactivate,receive:this.onSortableRecevie})).disableSelection(),this.$elCloneContainers.sortable(s(s({},this.options.sortableOptions),{start:this.onSortableStart,sort:this.onSortableSort,stop:this.onSortableStop,receive:this.onSortableRecevie})).disableSelection()},t.prototype.sanitizePositionLeft=function(t,e,o){return(t-e+o)/this.zoom},t.prototype.sanitizePositionTop=function(t,e,o){return(t-e+o)/this.zoom},t.prototype.onSortableStart=function(t,e){var o=t.offsetX,n=t.offsetY;this.dragStartPoint={x:o,y:n},$(t.target).closest(".droppable__item").addClass("is--highest")},t.prototype.onSortableSort=function(t,e){var o=t.clientX,n=t.clientY,i=e.originalPosition,r=this.dragStartPoint,s=r.x,a=r.y,l=this.sanitizePositionLeft(o,s,i.left),c=this.sanitizePositionTop(n,a,i.top);e.position={left:l,top:c}},t.prototype.onSortableStop=function(t){$(t.target).closest(".droppable__item").removeClass("is--highest")},t.prototype.onSortableDeactivate=function(t,e){e.item.hasClass("is--actived")||this.audioPlay(i.a.WRONG)},t.prototype.onSortableRecevie=function(t,e){var o=$(t.target),n=o.find(".draggable__item");if(o.hasClass("draggable__container"))return e.item.removeAttr("style"),e.item.attr("style",e.item.attr("data-style")),this.audioPlay(i.a.WRONG),void this.checkDoneCase();if(n.length>this.options.dropAllowSize)return e.item.removeClass("is--actived"),e.sender.sortable("cancel"),void this.audioPlay(i.a.WRONG);var s={top:e.offset.top,left:e.offset.left,bottom:e.offset.top+e.item.height(),right:e.offset.left+e.item.width()};if(!Object(r.c)(s,o.get(0)))return e.item.removeClass("is--actived"),e.sender.sortable("cancel"),void this.audioPlay(i.a.WRONG);var a=t.pageX,l=t.pageY,c=o.offset(),u=c.left,p=c.top,h=a-u-e.item.width()/2,d=l-p-e.item.height()/2;e.item.removeAttr("style").addClass("is--actived"),e.item.css({position:"absolute",left:h,top:d}),this.audioPlay(i.a.RIGHT),this.checkDoneCase()},t.prototype.checkDoneCase=function(){var t=$(".clone__container").children();if(this.doneCount=t.length||0,"function"==typeof this.options.onProgress){var e=this.doneCount/this.maxDoneCount*100;this.options.onProgress(e,t)}this.doneCount<this.maxDoneCount||"function"==typeof this.options.onDone&&($("body").css({cursor:""}),this.options.onDone())},t.prototype.audioPlay=function(t){switch(t){case i.a.RIGHT:this.audioPlayerRight.stop().play();break;case i.a.WRONG:this.audioPlayerWrong.stop().play()}},t.prototype.answerGuide=function(){var t=this;return this.reset(!1),$.each(this.$elDraggables,(function(e,o){var n=Math.floor(e/t.options.dropAllowSize),i=$(o),r=t.$elDroppables.eq(n),s=i.offset(),a=r.find(".guide__container li").eq(e%t.options.dropAllowSize).offset(),l=i.clone().addClass("temp").appendTo(t.$elComponent.find(".answer-guide"));l.css("position","absolute").css("left",s.left).css("top",s.top).css("zIndex",1e3),i.hide(),l.animate({top:a.top,left:a.left},"slow")})),this},t.prototype.reset=function(t){var e=this;return void 0===t&&(t=!0),$(".temp").remove(),$.each($(".draggable__container").children(),(function(t,e){var o=$(e),n=o.attr("data-style");o.attr("style",n).show()})),$.each(this.$elCloneContainers,(function(t,o){var n=$(o);if(n.sortable("instance")){n.sortable("destroy");var i=n.find(".is--draggable").parent();i.removeClass("is--actived"),e.$elComponent.find(".draggable__container").append(i)}})),t&&this.attach(),this.checkDoneCase(),this},t}();window.__components__=window.__components__||{},window.__components__.DRAGDROP_03=a},,,,,,,function(t,e,o){}]);