var svgh=new SVGHelper;var active=false;var hostId="";var setLang=false;var root=null;var main=null;var at=null;var tt=null;var tc=null;var td=null;var ta=null;var tg=null;var title=null;function updateUILayout(){var s=root.getComputedSize();if(s.w>0||s.h>0){main.updateLayout(s.w,s.h)}}function updateProgress(wrapper){var status=wrapper.getDownloadStatus();var blinkSpeed=parseInt(1e3/12);var to=0;var tw=status.totalCount===0?0:parseInt(100/status.totalCount,10);active=true;hostId=wrapper.domObject.id;td.att("width","0%");ta.att("width",tw+"%");tg.att("width",tw+"%");function progress(t,up){status=t.getDownloadStatus();var rate=status.totalCount===0?100:parseInt(status.completeCount*100/status.totalCount,10);td.att("width",rate+"%");if(rate<100){at.replaceText(""+status.currentName);tt.replaceText(""+status.currentName);tc.replaceText("[ "+(status.completeCount+1)+" / "+status.totalCount+" ]");ta.att("x",rate+"%");tg.att("x",rate+"%");ta.css("opacity",""+to);tg.css("opacity",""+to);to=to+(up?.1:-.1);if(to>1)to=1,up=false;else if(to<0)to=0,up=true;setTimeout(function(){progress(t,up)},blinkSpeed,false)}else{ta.css("opacity","0");tg.css("opacity","0");setTimeout(function(){at.replaceText("");tt.replaceText("");tc.replaceText("[ 0 / 0 ]");active=false},100)}}progress(wrapper,true)}document["stopUI"]=function(lazy){if(lazy){return!active}else{active=false;return true}};document["updateUI"]=function(t){if(!setLang){var rb=t.getResourceBundle();title.replaceText(rb.get("RB-POPDN-3-0001","_파일을 다운로드하는 중 입니다."));setLang=true}updateUILayout();updateProgress(t)};function onLoadHandler(_evt){root=svgh.getAsUnit("UIC-DEXTUPLOADX5-PROGRESSIVE");main=svgh.getAsUnit("UIC-MAIN-AREA");at=svgh.getAsUnit("UIC-AT-FILENAME");tt=svgh.getAsUnit("UIC-TXT-FILENAME");tc=svgh.getAsUnit("UIC-TXT-COUNT");td=svgh.getAsUnit("UIC-PROGRESS-DEF");ta=svgh.getAsUnit("UIC-PROGRESS-AROUND");tg=svgh.getAsUnit("UIC-PROGRESS-GLOW");title=svgh.getAsUnit("UIC-TITLE-TXT");svgh.getAsUnit("UIC-TITLE-BTN-CANCEL").bind("click",function(evt){evt.stopPropagation();evt.preventDefault();active=false;if(window.parent.dx5){window.parent.dx5.hideDownloadProgress(hostId,true);hostId=""}},false);updateUILayout();console.log("DX5: dextuploadx5-dn-3 loaded")}