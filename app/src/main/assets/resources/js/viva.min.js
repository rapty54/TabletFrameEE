/**
 * @preserve | VIVASAM BRAND
 * =======================================
 * - Document : viva.min.js
 * ---------------------------------------
 * - Author   : Choi sunki, UI Team
 * - Corp     : Daltan Works & Thinkbud
 * - Contact  :
 *   * email  : vivisam
 *   * nate   : vivisam
 * =======================================
 */
function pad(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}!function(){var e={version:5.1,author:"Choi sunki, UI Team",corp:"Daltan Works & Thinkbud",contact:["vivisam","vivisam"],about:function(){var t=["display: inline-block; padding: 5px 10px; background-color: #0278c2; color: #fff; border-radius: 5px;","display: inline-block; color: #333;","display: inline-block; color: #333; background: #eee; padding: 2px 10px;"];return console.clear(),console.log("%c 비상 - 비바샘 Brand brochure",t[0]),console.log("%c - Version : "+e.version,t[1]),console.log("%c - Author  : "+e.author,t[1]),console.log("%c - Corp    : "+e.corp,t[1]),console.log("%c - Contact ",t[1]+" font-weight: 600;"),console.log("%c - email   : "+e.contact[0],t[2]),console.log("%c - nateon  : "+e.contact[1],t[2]),!1},settings:{console:visang.defaults.console,imgPath:visang.defaults.imgPath,publish:visang.defaults.publish,section:function(t,o){o||(o="on");return e.settings.effects[t-1].play(o)},fullpageOptions:{navigation:!0,navigationPosition:"right",anchors:["landing","page1","page2","page3","page4","info"],keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,lazyLoading:!0,afterLoad:function(t,o){var n=e.settings;n.console&&console.info(" @ after load "),n.section(o,"off"),n.section(o,"on");for(var i=0;i<4;i++){var s=i+1;n.section(s,"off")}},onLeave:function(t,o,n){var i=e.settings;i.console&&console.info(" @ onLeave "),i.section(t,"off")},afterRender:function(){e.settings.console&&console.info(" @ after render ")},afterResize:function(){e.settings.console&&console.info(" @ after resize ")}},effects:[{play:function(t){var o=e,n=o.utils,i=o.settings;i.console&&console.log(" - slide landing");var s=$(".section-0"),a=s.find(".words"),l=a.find("h2 img"),c=a.find("h3 img"),r=a.find("h4 img"),d=s.find(".be-started"),u={initilized:[{opacity:0,x:0,y:-100},{opacity:0,x:0,y:100},{opacity:1,x:0,y:0}]},f={initilized:function(){TweenLite.to(a,0,u.initilized[2]),TweenLite.to(l,0,u.initilized[0]),TweenLite.to(c,0,u.initilized[1]),TweenLite.to(r,0,u.initilized[1]),TweenLite.to(d,0,u.initilized[1]),n.bounce("off",d)},motion:function(){TweenLite.to(d,.8,{opacity:1,delay:2.5}),TweenLite.to(d,.8,{x:0,y:0,delay:2.5,onComplete:function(){return n.bounce("on",d)}}),TweenLite.to(a,3,{opacity:1,delay:.3}),TweenLite.to(a,3,{x:0,y:0,delay:1}),TweenLite.to(l,3,{opacity:1,delay:.5}),TweenLite.to(l,3,{x:0,y:0,delay:.5}),TweenLite.to(c,3,{opacity:1}),TweenLite.to(c,3,{x:0,y:0,delay:.1}),TweenLite.to($("#fp-nav .go-top"),.5,{css:{opacity:0}})}};switch(t){case"on":i.console&&console.log(" - slide landing 의 효과를 켭니다."),f.initilized(),f.motion();break;case"off":default:i.console&&console.log(" - slide landing 의 효과를 끕니다."),f.initilized()}}},{play:function(t){var o=e,n=o.utils,i=o.settings;i.console&&console.log(" - Page 1");var s=$(".section-1"),a=s.find(".inner"),l=$("#s1Clip"),c=s.find(".box"),r=c.find(".line"),d=[r.eq(0),r.eq(1),r.eq(2),r.eq(3)],u=[c.find(".fill")],f=c.find(".clip"),p=[f.eq(0),f.eq(1)],g=s.find(".be-nexted"),h={initilized:[{opacity:0,x:0,y:-100},{opacity:0,x:0,y:100},{opacity:1,x:0,y:0}]},y={initilized:function(e){e||(e=1),l.css("opacity",0),TweenLite.to(l,0,{opacity:0,y:-100}),TweenLite.to(a,0,{y:60}),TweenLite.to(p[0],0,{opacity:0,y:-100}),TweenLite.to(p[1],0,{opacity:0,y:100}),TweenLite.to(u,0,{css:{height:0}}),TweenLite.to(d[0],.2,{css:{width:0}}),TweenLite.to(d[2],.2,{css:{width:0}}),TweenLite.to(d[1],.2,{css:{height:0}}),TweenLite.to(d[3],.2,{css:{height:0}}),TweenLite.to(g,0,h.initilized[1]),n.bounce("off",g)},motion:function(){var t,o=e.motion,i=o.lineShow,s=o.lineShow2;t=Modernizr.csstransforms?function(){return s.rand(u)}:function(){return i.rand(d)},TweenLite.to(l,1,{opacity:1}),TweenLite.to(l,1,{y:0,onComplete:t}),TweenLite.to(p[0],1,{opacity:1,delay:1.6}),TweenLite.to(p[1],1,{opacity:1,delay:1.6}),TweenLite.to(p[0],.6,{y:0,delay:1.6}),TweenLite.to(p[1],.6,{y:0,delay:1.6}),TweenLite.to(a,2,{y:0,delay:2}),TweenLite.to(g,1,{opacity:1,delay:2}),TweenLite.to(g,1,{x:0,y:0,delay:2,onComplete:function(){return n.bounce("on",g)}}),TweenLite.to($("#fp-nav .go-top"),.8,{css:{opacity:1}})}};switch(t){case"on":i.console&&console.log(" - slide Page1 의 효과를 켭니다."),y.initilized(),y.motion();break;case"off":default:i.console&&console.log(" - slide Page1 의 효과를 끕니다."),y.initilized()}}},{play:function(t){var o=e,n=o.utils,i=o.settings;i.console&&console.log(" - Page 2");for(var s=$(".section-2"),a=s.find(".inner"),l=$("#s1Clip"),c=s.find(".box"),r=[c.find(".fill")],d=c.find(".line"),u=[d.eq(0),d.eq(1),d.eq(2),d.eq(3)],f=[c.find(".clip").eq(0)],p=s.find(".map-wrap"),g=p.find(".map-group .map"),h=[],y=[],w=p.find(".pin"),m=[],T=[],L=s.find(".be-nexted"),b=0;b<w.length;b++)m.push(w.eq(b)),T.push(w.eq(b).find("dt").text());for(b=0;b<g.length;b++)h.push(g.eq(b)),y.push(g.eq(b).find("dt").text());i.console&&console.log(m);var v={initilized:[{opacity:0,x:0,y:-100},{opacity:0,x:0,y:100},{opacity:1,x:0,y:0}]},x={initilized:function(e){e||(e=1),$("#totalCount").text("0,000"),TweenLite.to($("#totalCount"),0,{css:{opacity:0}});for(var t=m.length,o=0;o<t;o++)TweenLite.to(m[o],0,{css:{opacity:0,scale:.5}});for(var i=h.length,o=0;o<i;o++)TweenLite.to(h[o],0,{css:{opacity:0,scale:2,ease:Circ.easeIn}});l.css("opacity",0),TweenLite.to(l,0,{opacity:0,y:-100}),TweenLite.to(a,0,{y:-60}),TweenLite.to(f[0],0,{opacity:0,y:-100}),TweenLite.to(r,0,{css:{height:0}}),TweenLite.to(u[0],0,{css:{width:0}}),TweenLite.to(u[2],0,{css:{width:0}}),TweenLite.to(u[1],0,{css:{height:0}}),TweenLite.to(u[3],0,{css:{height:0}}),TweenLite.to(L,0,v.initilized[1]),n.bounce("off",L)},motion:function(){var t,o=e.motion,s=o.lineShow,c=o.lineShow2;t=Modernizr.csstransforms?function(){return c.rand(r)}:function(){return s.rand(u)},TweenLite.to(l,1,{opacity:1}),TweenLite.to(l,1,{y:0,onComplete:t}),TweenLite.to(f[0],1,{opacity:1,delay:1.6}),TweenLite.to(f[0],.6,{y:0,delay:1.6}),TweenLite.to(a,2,{y:0,delay:3}),TweenLite.to(L,1,{opacity:1,delay:4}),TweenLite.to(L,1,{x:0,y:0,delay:4,onComplete:function(){return n.bounce("on",L)}});var d=0,p=["1.2","1.22","1.3","1.14"];if(!Modernizr.touchevents){var g,w,b=h.length,v=[];d=2200;for(S=0;S<b;S++)v.push(S);for(S=0;S<b;S++)w=Math.floor(Math.random()*b),g=v[S],v[S]=v[w],v[w]=g;for(S=0;S<b;S++){var x=.3+.09*S;i.console&&console.log("%c 맵 "+pad(v[S],2)+"("+y[v[S]]+") 번을 표시합니다.","color: #f00; padding: 5px; background: #ddd; margin: 2px;"),TweenLite.to(h[v[S]],.5,{opacity:1,scale:1,delay:x})}}for(var k,z,C=m.length,M=[],S=0;S<C;S++)M.push(S);for(S=0;S<C;S++)z=Math.floor(Math.random()*C),k=M[S],M[S]=M[z],M[z]=k;setTimeout(function(){for(var e=0;e<C;e++){var t=.3+.09*e;i.console&&console.log("%c 지도 "+pad(M[e],2)+"("+T[M[e]]+") 번을 표시합니다.","color: #f00; padding: 5px; background: #ddd; margin: 2px;");var o=p[Math.floor(Math.random()*p.length)];TweenLite.to(m[M[e]],.3,{opacity:1,scale:o,delay:t}),TweenLite.to(m[M[e]],.8,{opacity:1,scale:1,delay:t+1})}},d),TweenLite.to($("#totalCount"),.8,{opacity:.18}),setTimeout(function(){o.startNumber(9666,"#totalCount",3)},1e3)}};switch(t){case"on":i.console&&console.log(" - slide Page2 의 효과를 켭니다."),x.initilized(),x.motion();break;case"off":default:i.console&&console.log(" - slide Page2 의 효과를 끕니다."),x.initilized()}}},{play:function(t){var o=e,n=o.utils,i=o.settings;i.console&&console.log(" - Page 3");var s=$(".section-3"),a=(s.find(".inner"),s.find(".box-clip .clip-1")),l=s.find(".box"),c=[l.find(".fill")],r=l.find(".line"),d=[r.eq(0),r.eq(1),r.eq(2),r.eq(3)],u=$("#bookLst"),f=[u.find(".group-1"),u.find(".group-2")],p=s.find(".be-nexted"),g={initilized:[{opacity:0,x:0,y:-100},{opacity:0,x:0,y:100},{opacity:1,x:0,y:0}]},h={initilized:function(){$("#bookLst .group-1 .species").text("00"),$("#bookLst .group-1 .entity").text("00"),$("#bookLst .group-2 .species").text("00"),$("#bookLst .group-2 .entity").text("00"),TweenLite.to(u.find(".items li"),0,{css:{opacity:0,left:-103,bottom:-103}}),TweenLite.to(p,0,g.initilized[1]),TweenLite.to(a,0,{opacity:0,y:-100}),TweenLite.to(c,0,{css:{height:0}}),TweenLite.to(d[0],0,{css:{width:0}}),TweenLite.to(d[2],0,{css:{width:0}}),TweenLite.to(d[1],0,{css:{height:0}}),TweenLite.to(d[3],0,{css:{height:0}}),n.bounce("off",p)},motion:function(){var t,o=e.motion,i=o.lineShow,s=o.lineShow2;t=Modernizr.csstransforms?function(){return s.rand(c)}:function(){return i.rand(d)},TweenLite.to(a,1,{opacity:1,y:0,delay:1.2});for(l=0;l<f[0].find(".items li").length;l++)TweenLite.to(f[0].find(".items li").eq(l),.6,{css:{opacity:1,scale:1,left:0,bottom:0},delay:.03*l});for(var l=0;l<f[1].find(".items li").length;l++)TweenLite.to(f[1].find(".items li").eq(l),.6,{css:{opacity:1,scale:1,left:0,bottom:0},delay:.2*l});setTimeout(function(){o.startNumber(bookData[0].species,"#bookLst .group-1 .species",1),o.startNumber(bookData[0].entity,"#bookLst .group-1 .entity",1),o.startNumber(bookData[1].species,"#bookLst .group-2 .species",1),o.startNumber(bookData[1].entity,"#bookLst .group-2 .entity",1),setTimeout(t,1e3)},350),TweenLite.to(p,1,{opacity:1,delay:2.5}),TweenLite.to(p,1,{x:0,y:0,delay:2.5,onComplete:function(){return n.bounce("on",p)}})}};switch(t){case"on":i.console&&console.log(" - slide Page3 의 효과를 켭니다. "),h.motion();break;case"off":default:i.console&&console.log(" - slide Page3 의 효과를 끕니다. "),h.initilized()}}},{play:function(t){var o=e,n=(o.utils,o.motion),i=o.settings;i.console&&console.log(" - Page 4");var s={initilized:function(){$(".section-4 .count strong").text("00")},motion:function(){o.responsiveS4(),n.startNumber(i.publish[0],".section-4 .count strong:eq(0)",1),n.startNumber(i.publish[1],".section-4 .count strong:eq(1)",2),n.startNumber(i.publish[2],".section-4 .count strong:eq(2)",3)}};switch(t){case"on":i.console&&console.log(" - slide Page4 의 효과를 켭니다. "),s.motion();break;case"off":default:i.console&&console.log(" - slide Page4 의 효과를 끕니다. "),s.initilized()}}},{play:function(t){var o=e;o.utils;o.settings.console&&console.log(" - Info")}}]},utils:{bounce:function(e,t){return"on"==e?$(t).addClass("bounce"):$(t).removeClass("bounce")}},layout:{fullpageInitialized:function(t,o,n){var i=e,s=i.settings;s.console&&(console.log(i),console.log(s));var a=s.fullpageOptions,l=$.extend(a,n);return $(t).fullpage(l)},pushSection3:function(t){var o=e,n=o.settings,i=(o.layout,{container:"#bookLst",data:bookData,path:n.imgPath}),s=$.extend(i,t),a=s.data,l=a.length,c=($(s.container),[]),r='<div class="group group-3">';r+='<p><img src="'+n.imgPath+'/img-page3-attach1.png" alt="2009 초등 음악, 초등 체육, 중학 국어, 중학 미술, 중학 체육, 고등 국어, 고등 화법과 작문, 고등 확률과 통계, 고등 사회 · 문화, 고등 경제, 고등 세계 지리, 고등 한국사, 고등 동아시아사 ">',r+='<p><img src="'+n.imgPath+'/img-page3-attach2.png" alt="2007 중학 국어, 중학 사회, 중학 역사, 고등 독서와 문법, 고등 사회, 고등 한국사">',r+="</div>";for(var d=0;d<l;d++){var u="<h3>"+a[d].title+"</h3>",f='<div class="info">';f+='<strong class="species">'+a[d].species+"</strong><em>종</em>",f+='<strong class="entity">'+a[d].entity+"</strong><em>책</em>",f+="</div>";var p=[];p.push('<ul class="items">');for(var g=0;g<a[d].items.length;g++){var h=a[d].items[g],y=s.path+h.img,w=h.year,m=h.name,T=h.ex,L="<li>",b='<img src="'+y+'" alt="'+m+' Thumbnail image">',v='<div class="summary">';v+='<p class="year">'+w+"</p>",v+='<p class="name">'+m+"</p>",v+="<div>",T&&(L='<li class="'+T+'">'),p.push(L),p.push(b),p.push(v),p.push("</li>")}p.push("</ul>"),c.push('<div class="group group-'+(d+1)+'">'),c.push(u),c.push(f),c.push(p.join("")),c.push("</div>")}return $(s.container).html(c.join("")+r)},sizevariable:function(){$(window).height()<769?$("html").addClass("isWinXs"):$("html").removeClass("isWinXs")},attachUI:function(){$("#fp-nav").children("ul").children("li").eq(0).children("a").append('<span class="go-top">TOP</span>')}},motion:{lineShow2:{play:function(t,o,n){var i,s=e.settings,a=$.extend({size:1080,dur:2},n);if(!o)throw new Error(" dataArr 을 확인해 주세요. ");switch(i=o,s.console&&console.log("@방향 : "+t),t){case"left":default:TweenLite.to(i[0],0,{css:{bottom:"auto",top:"-50%",rotation:-45}});break;case"right":TweenLite.to(i[0],0,{css:{bottom:"auto",top:"-50%",rotation:45}});break;case"rightb":TweenLite.to(i[0],0,{css:{top:"auto",bottom:"-50%",rotation:-45}});break;case"leftb":TweenLite.to(i[0],0,{css:{top:"auto",bottom:"-50%",rotation:45}})}TweenLite.to(i[0],0,{css:{height:0}}),TweenLite.to(i[0],a.dur,{css:{height:a.size}})},rand:function(t){var o=e.motion.lineShow2,n=["left","right","leftb","rightb"],i=[Math.floor(Math.random()*n.length)];return o.play(n[i[0]],t)}},lineShow:{play:function(t,o,n,i){var s,a=e.settings,l=$.extend({size:"100%",dur:.2},i);if(!n)throw new Error(" dataArr 을 확인해 주세요. ");s=n;var c,r=l.size,d=l.dur;switch(t){case"left":default:TweenLite.to(s[0],0,{css:{top:"auto",left:"auto",right:0,bottom:0}}),TweenLite.to(s[1],0,{css:{top:"auto",right:"auto",left:0,bottom:0}}),TweenLite.to(s[2],0,{css:{bottom:"auto",right:"auto",top:0,left:0}}),TweenLite.to(s[3],0,{css:{bottom:"auto",left:"auto",top:0,right:0}});break;case"right":TweenLite.to(s[0],0,{css:{top:0,left:0,right:"auto",bottom:"auto"}}),TweenLite.to(s[1],0,{css:{top:0,right:0,left:"auto",bottom:"auto"}}),TweenLite.to(s[2],0,{css:{bottom:0,right:0,top:"auto",left:"auto"}}),TweenLite.to(s[3],0,{css:{bottom:0,left:0,top:"auto",right:"auto"}})}switch(o){case 0:default:c="TOP",TweenLite.to(s[0],d,{width:r,delay:1*d}),TweenLite.to(s[1],d,{height:r,delay:2*d}),TweenLite.to(s[2],d,{width:r,delay:3*d}),TweenLite.to(s[3],d,{height:r,delay:4*d});break;case 1:c="RIGHT",TweenLite.to(s[3],d,{height:r,delay:1*d}),TweenLite.to(s[0],d,{width:r,delay:2*d}),TweenLite.to(s[1],d,{height:r,delay:3*d}),TweenLite.to(s[2],d,{width:r,delay:4*d});break;case 2:c="BOTTOM",TweenLite.to(s[1],d,{height:r,delay:1*d}),TweenLite.to(s[2],d,{width:r,delay:2*d}),TweenLite.to(s[3],d,{height:r,delay:3*d}),TweenLite.to(s[0],d,{width:r,delay:4*d});break;case 3:c="LEFT",TweenLite.to(s[1],d,{height:r,delay:1*d}),TweenLite.to(s[2],d,{width:r,delay:2*d}),TweenLite.to(s[3],d,{height:r,delay:3*d}),TweenLite.to(s[0],d,{width:r,delay:4*d})}a.console&&(console.info("%c * 박스를 그립니다.","background: #222; color: #bada55"),console.log("%c ** "+c+"("+o+") 부터 시작되며 "+("left"==t?"왼쪽":"오른쪽")+"("+t+") 방향으로 진행.","background: #f8f8f8; color: blue"))},rand:function(t){var o=e.motion.lineShow,n=[Math.floor(2*Math.random()),Math.floor(4*Math.random())];return o.play(["left","right"][n[0]],n[1],t)}},startNumber:function(e,t,o){e||(e=100),o||(e=3);var n={vars:0};TweenLite.to(n,o,{vars:e,onUpdate:function(){var e=function(e){return e.toString().split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")}(n.vars);$(t).text(e)},ease:Circ.easeOut})}},scrollCustom:function(){var e=$("#bookdatas");if(!Modernizr.touchevents)var t=window.smoothBooks=e.smoothWheel();if(e.on("mouseenter mouseleave focus",function(e){"mouseenter"==e.type||"focus"==e.type?($.fn.fullpage.setMouseWheelScrolling(!1),$(document).unbind("mousewheel"),Modernizr.touchevents||t.smoothWheel({remove:0})):($.fn.fullpage.setMouseWheelScrolling(!0),$(document).bind("mousewheel"))}),Modernizr.touchevents){e.on("touchstart touchmove touchend",function(e){"touchstart"==e.type&&($.fn.fullpage.setAllowScrolling(!1),TweenLite.to($(".guide-scroll"),.8,{opacity:0}),bookFlag=!0),"touchend"==e.type&&($.fn.fullpage.setAllowScrolling(!0),bookFlag=!1)}),window.dataScroll=new IScroll("#bookdatas",{snap:!0,mouseWheel:!0,scrollbars:!0,useTransform:!0,useTransition:!0,HWCompositing:!0,scrollX:!1}),$(window).on("load resize",function(e){setTimeout(function(){window.dataScroll.refresh()},0)})}},responsiveS4:function(){var e,t,o,n=$(".section-4"),i=$(".visang-textbook"),s=$("#bookdatas"),a=n.find(".fp-tableCell");setTimeout(function(){return o=parseInt(i.css("paddingTop")),e=parseInt(a.css("height")),t=e-(o+250+20),TweenLite.to(s,.5,{css:{height:t},delay:0})},500)},init:function(){var e=this,t=e.settings,o=e.layout;Modernizr.touchevents,o.fullpageInitialized("#vivasamRoot",!1,{}),o.pushSection3({path:t.imgPath}),o.sizevariable(),e.scrollCustom(),o.attachUI(),$(window).on("load resize",function(){o.sizevariable(),e.responsiveS4()});var n=!1;$(".section-4").on("mouseenter",function(){n||(e.responsiveS4(),n=!0)}),$(".map-base img").css({opacity:.3}),$(".expands-pop .close").on("click",function(e){e.preventDefault();var t=$(this).closest(".expands-pop"),o=t.find(".pop");if(Modernizr.csstransitions){var n=new TimelineLite({onComplete:function(){t.removeClass("act"),$.fn.fullpage.setMouseWheelScrolling(!0)}});TweenLite.to(o,0,{css:{opacity:1,x:0,y:0}}),n.to(o,.5,{css:{opacity:0,x:0,y:-100}}).to(t,.5,{css:{opacity:0}})}else t.stop(!0,!0).animate({opacity:0},550,function(){$.fn.fullpage.setMouseWheelScrolling(!0),t.removeClass("act")})}),$(".open-pop").on("click",function(e){e.preventDefault();var t=$(this),o=$(t.attr("href")),n=o.find(".pop");if($.fn.fullpage.setMouseWheelScrolling(!1),Modernizr.csstransitions){var i=new TimelineLite({onComplete:function(){console.log("done")}});o.addClass("act"),TweenLite.to(o,0,{css:{opacity:1}}),TweenLite.to(n,0,{css:{opacity:0,x:0,y:-100}}),i.to(n,.5,{css:{opacity:1,x:0,y:0}})}else o.addClass("act").css({opacity:0}).stop(!0,!0).animate({opacity:1},100)});var i=function(){$(".guide-scroll").hide()};$("#bookdatas").on("scroll",function(){TweenLite.to($(".guide-scroll"),.8,{opacity:0,onComplete:i})}).find("a").attr({target:"_blank"});var s=["1.17","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","1.15","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9"];$(".pin-group").find(".pin").on("mouseenter mouseleave",function(e){var t=$(this);if("mouseenter"==e.type){var o=s[Math.floor(Math.random()*s.length)];TweenLite.to(t,0,{css:{zIndex:90}}),TweenLite.to(t,.5,{css:{scale:o}})}else TweenLite.to(t,0,{css:{zIndex:89}}),TweenLite.to(t,.2,{css:{scale:1}})});for(var a=0;a<4;a++){var l=a+1;t.section(l,"off")}t.console&&console.log(" ready ")}};window.visang=e}(),$(document).ready(function(){visang.init()});